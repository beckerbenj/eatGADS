<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="eatGADS">
<title>Recoding a multiple choice item with a text field • eatGADS</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Recoding a multiple choice item with a text field">
<meta property="og:description" content="eatGADS">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">eatGADS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/createGADS.html">`createGADS`: Creating a relational data base</a>
    <a class="dropdown-item" href="../articles/data_cleaning.html">Comprehensive Data Cleaning Guide</a>
    <a class="dropdown-item" href="../articles/getGADS.html">`getGADS`: Using a relational eatGADS data base</a>
    <a class="dropdown-item" href="../articles/import_raw.html">Handling meta data</a>
    <a class="dropdown-item" href="../articles/import_spss.html">`import_spss`: Importing data from 'SPSS'</a>
    <a class="dropdown-item" href="../articles/recoding_forcedChoice.html">Recoding a forced choice item with a text field</a>
    <a class="dropdown-item" href="../articles/recoding_multipleChoice.html">Recoding a multiple choice item with a text field</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/beckerbenj/eatGADS/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Recoding a multiple choice item with a text field</h1>
                        <h4 data-toc-skip class="author">Benjamin
Becker, Johanna Busse</h4>
            
            <h4 data-toc-skip class="date">2023-10-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/beckerbenj/eatGADS/blob/HEAD/vignettes/recoding_multipleChoice.rmd" class="external-link"><code>vignettes/recoding_multipleChoice.rmd</code></a></small>
      <div class="d-none name"><code>recoding_multipleChoice.rmd</code></div>
    </div>

    
    
<p>If a multiple choice item is administered, sometimes not all possible
answers can be covered by predefined response options. In such cases,
often an additional response option (e.g. “other”) is given accompanied
by an open text field. An example of such a multiple choice item is
asking for the languages a person is able to speak:</p>
<p> </p>
<p><img src="multipleChoice.PNG"></p>
<p> </p>
<p>In the resulting data set, such an item will often be stored as
multiple separate variables: dichotomous and numeric (‘dummy’) variables
for each multiple choice option (with variable labels describing the
response option) and an additional character variable (containing the
answers in the text field). For data analysis it is usually necessary to
integrate the information from the character variable into the dummy
variables. Often the following steps are required:</p>
<ul>
<li>recode the character variable manually (e.g. to eliminate spelling
mistakes) and separate the answers into multiple variables</li>
<li>transform open answers which refer to existing response options
(e.g. if a test taker overlooked a response option)</li>
<li>transform the remaining open answers to numeric, labeled
variables</li>
</ul>
<p>To illustrate the steps we have implemented a small <code>SPSS</code>
example data set in this package. The data set can be loaded using the
<code><a href="../reference/import_spss.html">import_spss()</a></code> function. For further information on
importing <code>SPSS</code> data see <a href="import_spss.html"><code>import_spss</code>: Importing data from
‘SPSS’</a>. Note that the data set is a minimal working example,
containing only the required variables for this illustration.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/beckerbenj/eatGADS" class="external-link">eatGADS</a></span><span class="op">)</span></span>
<span><span class="va">data_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"multipleChoice.sav"</span>, package <span class="op">=</span> <span class="st">"eatGADS"</span><span class="op">)</span></span>
<span><span class="va">gads</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/import_spss.html">import_spss</a></span><span class="op">(</span><span class="va">data_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Show example data set</span></span>
<span><span class="va">gads</span></span>
<span><span class="co">#&gt; $dat</span></span>
<span><span class="co">#&gt;    ID mcvar1 mcother      stringvar</span></span>
<span><span class="co">#&gt; 1   1      1     -94         German</span></span>
<span><span class="co">#&gt; 2   2    -94       0            Ger</span></span>
<span><span class="co">#&gt; 3   3      0       1            Ger</span></span>
<span><span class="co">#&gt; 4   4      1     -94               </span></span>
<span><span class="co">#&gt; 5   5    -94       0  Eng, Pol, Ita</span></span>
<span><span class="co">#&gt; 6   6      0       1 Pol, Ita, Germ</span></span>
<span><span class="co">#&gt; 7   7      1     -94       eng, ita</span></span>
<span><span class="co">#&gt; 8   8    -94       0      germ, pol</span></span>
<span><span class="co">#&gt; 9   9      0       1         polish</span></span>
<span><span class="co">#&gt; 10 10      1     -94       eng, ita</span></span>
<span><span class="co">#&gt; 11 11    -94       0            -99</span></span>
<span><span class="co">#&gt; 12 12      0       1      Star Trek</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $labels</span></span>
<span><span class="co">#&gt;     varName         varLabel format display_width labeled value</span></span>
<span><span class="co">#&gt; 1        ID             &lt;NA&gt;   F8.0            NA      no    NA</span></span>
<span><span class="co">#&gt; 2    mcvar1 Language: German   F8.2            NA     yes   -94</span></span>
<span><span class="co">#&gt; 3    mcvar1 Language: German   F8.2            NA     yes     0</span></span>
<span><span class="co">#&gt; 4    mcvar1 Language: German   F8.2            NA     yes     1</span></span>
<span><span class="co">#&gt; 5   mcother  Language: other   F8.2            NA     yes   -94</span></span>
<span><span class="co">#&gt; 6   mcother  Language: other   F8.2            NA     yes     0</span></span>
<span><span class="co">#&gt; 7   mcother  Language: other   F8.2            NA     yes     1</span></span>
<span><span class="co">#&gt; 8 stringvar   Language: text    A14            NA     yes   -99</span></span>
<span><span class="co">#&gt;            valLabel missings</span></span>
<span><span class="co">#&gt; 1              &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2           missing     miss</span></span>
<span><span class="co">#&gt; 3                no    valid</span></span>
<span><span class="co">#&gt; 4               yes    valid</span></span>
<span><span class="co">#&gt; 5           missing     miss</span></span>
<span><span class="co">#&gt; 6                no    valid</span></span>
<span><span class="co">#&gt; 7               yes    valid</span></span>
<span><span class="co">#&gt; 8 missing by design    valid</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "GADSdat" "list"</span></span></code></pre></div>
<p>The variable names of the data set above are connected to the
multiple choice question as indicated:</p>
<p> </p>
<p><img src="multipleChoice_labeled.PNG"></p>
<div class="section level2">
<h2 id="preparing-the-data-set">Preparing the data set<a class="anchor" aria-label="anchor" href="#preparing-the-data-set"></a>
</h2>
<p>As illustrated, data can be loaded into <code>R</code> in the
<code>GADSdat</code> format via the functions
<code><a href="../reference/import_spss.html">import_spss()</a></code>,<code><a href="../reference/import_DF.html">import_DF()</a></code> or
<code><a href="../reference/import_raw.html">import_raw()</a></code>. Depending on the original format, omitted
responses to open text fields might be stored as empty strings instead
of <code>NAs</code>. In these cases, the <code><a href="../reference/recode2NA.html">recode2NA()</a></code>
function should be used to recode these values to <code>NA</code>. Per
default, matching strings across all variables in the data set are
recoded. Specific variables selection can be specified using the
<code>recodeVars</code> argument. Note that the function only performs
recodings to exact matches of a single, specific string (in our example
<code>""</code>).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gads</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/recode2NA.html">recode2NA</a></span><span class="op">(</span><span class="va">gads</span>, value <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span>
<span><span class="co">#&gt; Recodes in variable ID: 0</span></span>
<span><span class="co">#&gt; Recodes in variable mcvar1: 0</span></span>
<span><span class="co">#&gt; Recodes in variable mcother: 0</span></span>
<span><span class="co">#&gt; Recodes in variable stringvar: 1</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-and-editing-a-lookup-table">Creating and editing a lookup table<a class="anchor" aria-label="anchor" href="#creating-and-editing-a-lookup-table"></a>
</h2>
<p>With <code><a href="../reference/createLookup.html">createLookup()</a></code>, you can create a lookup table which
allows recoding one or multiple variables.<br>
You can choose which string variables in a <code>GADS</code> object you
would like to recode by using the <code>recodeVars</code> argument. The
resulting look up table is a long format <code>data.frame</code> with
rows being variable x value pairings. In case you want to sort the
output to make recoding easier, the argument <code>sort_by</code> can be
used. Extra columns can be added to the look up table by the argument
<code>addCols</code> (but can also be added later manually e.g. in
Excel). As test takers can insert multiple languages in the text field,
you have to add multiple recode columns to the look up table. The
respective column names are irrelevant and just for convenience
purpose.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lookup</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/createLookup.html">createLookup</a></span><span class="op">(</span>GADSdat <span class="op">=</span> <span class="va">gads</span>, recodeVars <span class="op">=</span> <span class="st">"stringvar"</span>, sort_by <span class="op">=</span> <span class="st">'value'</span>, </span>
<span>                       addCols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"language"</span>, <span class="st">"language2"</span>, <span class="st">"language3"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lookup</span></span>
<span><span class="co">#&gt;     variable          value language language2 language3</span></span>
<span><span class="co">#&gt; 1  stringvar           &lt;NA&gt;       NA        NA        NA</span></span>
<span><span class="co">#&gt; 2  stringvar            -99       NA        NA        NA</span></span>
<span><span class="co">#&gt; 3  stringvar  Eng, Pol, Ita       NA        NA        NA</span></span>
<span><span class="co">#&gt; 4  stringvar            Ger       NA        NA        NA</span></span>
<span><span class="co">#&gt; 5  stringvar         German       NA        NA        NA</span></span>
<span><span class="co">#&gt; 6  stringvar Pol, Ita, Germ       NA        NA        NA</span></span>
<span><span class="co">#&gt; 7  stringvar      Star Trek       NA        NA        NA</span></span>
<span><span class="co">#&gt; 8  stringvar       eng, ita       NA        NA        NA</span></span>
<span><span class="co">#&gt; 9  stringvar      germ, pol       NA        NA        NA</span></span>
<span><span class="co">#&gt; 10 stringvar         polish       NA        NA        NA</span></span></code></pre></div>
<p>Now you have to add the desired values for recoding. You should use
(a) unique parts of the existing variable labels of the corresponding
dummy variables (see the next section for explanation) and (b)
consistent new values that can serve as variable labels later. Spelling
mistakes within the recoding will result in additional columns in the
final data set! If there are less values than columns you can leave the
remaining columns <code>NA</code>.</p>
<p>To fill in the columns you could use <code>R</code> directly to
modify the columns. Alternatively, we recommend using
<code>eatAnalysis::write_xlsx()</code> to create an excel file in which
you can fill in the values.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># write look up table to Excel</span></span>
<span><span class="fu">eatAnalysis</span><span class="fu">::</span><span class="fu">write_xlsx</span><span class="op">(</span><span class="va">lookup</span>, <span class="st">"lookup_forcedChoice.xlsx"</span><span class="op">)</span></span></code></pre></div>
<p><img src="multipleChoice_excel_empty.PNG"></p>
<p> </p>
<p>After filling out the excel sheet the look up table might look like
this:</p>
<p> </p>
<p><img src="multipleChoice_excel_full.PNG"></p>
<p> </p>
<p>The excel file can be read back into <code>R</code> via
<code>readxl::read_xlsx()</code>. If you want to create specific missing
codes, you have to insert the desired (numerical!) missing codes into
all columns (e.g. <code>-96</code> in the look up table below). The
corresponding value labels will be assigned in a later step.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># write look up table to Excel</span></span>
<span><span class="fu">eatAnalysis</span><span class="fu">::</span><span class="fu">write_xlsx</span><span class="op">(</span><span class="va">lookup</span>, <span class="st">"lookup_multipleChoice.xlsx"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### perform recodes in Excel sheet!</span></span>
<span></span>
<span><span class="co"># read look up table back to R</span></span>
<span><span class="va">lookup</span> <span class="op">&lt;-</span> <span class="fu">readxl</span><span class="fu">::</span><span class="fu">read_xlsx</span><span class="op">(</span><span class="st">"lookup_multipleChoice.xlsx"</span><span class="op">)</span></span>
<span><span class="va">lookup</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;     variable          value language language2 language3</span></span>
<span><span class="co">#&gt; 1  stringvar           &lt;NA&gt;     &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2  stringvar            -99     &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  stringvar  Eng, Pol, Ita  English    Polish   Italian</span></span>
<span><span class="co">#&gt; 4  stringvar            Ger   German      &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5  stringvar         German   German      &lt;NA&gt;      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6  stringvar Pol, Ita, Germ   Polish   Italian    German</span></span>
<span><span class="co">#&gt; 7  stringvar      Star Trek      -96       -96       -96</span></span>
<span><span class="co">#&gt; 8  stringvar       eng, ita  English   Italian      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9  stringvar      germ, pol   German    Polish      &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10 stringvar         polish   Polish      &lt;NA&gt;      &lt;NA&gt;</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="apply-look-up-to-gadsdat">Apply look up to <code>GADSdat</code><a class="anchor" aria-label="anchor" href="#apply-look-up-to-gadsdat"></a>
</h2>
<p>You perform the actual data recoding using the
<code><a href="../reference/applyLookup_expandVar.html">applyLookup_expandVar()</a></code> function. It applies the recodes
defined in the look up table, thereby creating as many character
variables as there are additional columns in the look up table. Variable
names are generated automatically.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gads_string</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/applyLookup_expandVar.html">applyLookup_expandVar</a></span><span class="op">(</span>GADSdat <span class="op">=</span> <span class="va">gads</span>, lookup <span class="op">=</span> <span class="va">lookup</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in check_lookup(lookup, GADSdat): Not all values have a recode value</span></span>
<span><span class="co">#&gt; assigned (missings in value_new).</span></span>
<span><span class="co">#&gt; No rows removed from meta data.</span></span>
<span><span class="co">#&gt; Adding meta data for the following variables: stringvar_1</span></span>
<span><span class="co">#&gt; No rows removed from meta data.</span></span>
<span><span class="co">#&gt; Adding meta data for the following variables: stringvar_2</span></span>
<span><span class="co">#&gt; No rows removed from meta data.</span></span>
<span><span class="co">#&gt; Adding meta data for the following variables: stringvar_3</span></span>
<span></span>
<span><span class="va">gads_string</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="co">#&gt;    ID mcvar1 mcother      stringvar stringvar_1 stringvar_2 stringvar_3</span></span>
<span><span class="co">#&gt; 1   1      1     -94         German      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2   2    -94       0            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3   3      0       1            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4   4      1     -94           &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5   5    -94       0  Eng, Pol, Ita     English      Polish     Italian</span></span>
<span><span class="co">#&gt; 6   6      0       1 Pol, Ita, Germ      Polish     Italian      German</span></span>
<span><span class="co">#&gt; 7   7      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8   8    -94       0      germ, pol      German      Polish        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9   9      0       1         polish      Polish        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10 10      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 11 11    -94       0            -99        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12 12      0       1      Star Trek         -96         -96         -96</span></span></code></pre></div>
<p>In some cases you might have recoded some of the values to specific
missing codes. These missing codes have to be now specified by hand as
value labels that should be treated as missings. The function
<code><a href="../reference/changeValLabels.html">changeValLabels()</a></code> is used to give specific value labels and
the function <code><a href="../reference/changeMissings.html">changeMissings()</a></code> attaches missing codes. The
loop below performs the appropriate labeling and missing coding in a
loop for all three new string variables.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">for</span><span class="op">(</span><span class="va">nam</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"stringvar_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">gads_string</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/changeValLabels.html">changeValLabels</a></span><span class="op">(</span><span class="va">gads_string</span>, varName <span class="op">=</span> <span class="va">nam</span>, </span>
<span>                                 value <span class="op">=</span> <span class="op">-</span><span class="fl">96</span>, valLabel <span class="op">=</span> <span class="st">"Missing: Not codeable"</span><span class="op">)</span></span>
<span>  <span class="va">gads_string</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/changeMissings.html">changeMissings</a></span><span class="op">(</span><span class="va">gads_string</span>, varName <span class="op">=</span> <span class="va">nam</span>, </span>
<span>                                value <span class="op">=</span> <span class="op">-</span><span class="fl">96</span>, missings <span class="op">=</span> <span class="st">"miss"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">gads_string</span><span class="op">$</span><span class="va">labels</span></span>
<span><span class="co">#&gt;        varName         varLabel format display_width labeled value</span></span>
<span><span class="co">#&gt; 1           ID             &lt;NA&gt;   F8.0            NA      no    NA</span></span>
<span><span class="co">#&gt; 2       mcvar1 Language: German   F8.2            NA     yes   -94</span></span>
<span><span class="co">#&gt; 3       mcvar1 Language: German   F8.2            NA     yes     0</span></span>
<span><span class="co">#&gt; 4       mcvar1 Language: German   F8.2            NA     yes     1</span></span>
<span><span class="co">#&gt; 5      mcother  Language: other   F8.2            NA     yes   -94</span></span>
<span><span class="co">#&gt; 6      mcother  Language: other   F8.2            NA     yes     0</span></span>
<span><span class="co">#&gt; 7      mcother  Language: other   F8.2            NA     yes     1</span></span>
<span><span class="co">#&gt; 8    stringvar   Language: text    A14            NA     yes   -99</span></span>
<span><span class="co">#&gt; 9  stringvar_1   Language: text    A14            NA     yes   -99</span></span>
<span><span class="co">#&gt; 10 stringvar_1   Language: text    A14            NA     yes   -96</span></span>
<span><span class="co">#&gt; 11 stringvar_2   Language: text    A14            NA     yes   -99</span></span>
<span><span class="co">#&gt; 12 stringvar_2   Language: text    A14            NA     yes   -96</span></span>
<span><span class="co">#&gt; 13 stringvar_3   Language: text    A14            NA     yes   -99</span></span>
<span><span class="co">#&gt; 14 stringvar_3   Language: text    A14            NA     yes   -96</span></span>
<span><span class="co">#&gt;                 valLabel missings</span></span>
<span><span class="co">#&gt; 1                   &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2                missing     miss</span></span>
<span><span class="co">#&gt; 3                     no    valid</span></span>
<span><span class="co">#&gt; 4                    yes    valid</span></span>
<span><span class="co">#&gt; 5                missing     miss</span></span>
<span><span class="co">#&gt; 6                     no    valid</span></span>
<span><span class="co">#&gt; 7                    yes    valid</span></span>
<span><span class="co">#&gt; 8      missing by design    valid</span></span>
<span><span class="co">#&gt; 9      missing by design    valid</span></span>
<span><span class="co">#&gt; 10 Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 11     missing by design    valid</span></span>
<span><span class="co">#&gt; 12 Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 13     missing by design    valid</span></span>
<span><span class="co">#&gt; 14 Missing: Not codeable     miss</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="match-values-to-variable-labels">Match values to variable labels<a class="anchor" aria-label="anchor" href="#match-values-to-variable-labels"></a>
</h2>
<p>When integrating character variables into multiple dummy variables,
there has to be a clear correspondence between values in the character
variable and dummy variables. <code>eatGADS</code> requires this
information as a named character vector with the dummy variable names as
values and values of the text variable as names. Such a vector can be
automatically generated by the <code><a href="../reference/matchValues_varLabels.html">matchValues_varLabels()</a></code>
function. The function takes a character vector (<code>values</code>) as
input and matches all values in this vector to the variable labels of
the dummy variables (<code>mc_vars</code>). We provide the content of
the character variables as input for the <code>values</code> argument as
these are all possible new values.</p>
<p>In case that not every already existing variable label is part of the
lookup table you can use the <code>label_by_hand</code> argument. This
is always the case for the variable representing the <code>other</code>
response option but might be necessary for other response options as
well. Alternatively, these values could be added to the
<code>value_string</code> as well, to enable automatic matching.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">value_string</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">lookup</span><span class="op">$</span><span class="va">language</span>, <span class="va">lookup</span><span class="op">$</span><span class="va">language2</span>, <span class="va">lookup</span><span class="op">$</span><span class="va">language3</span><span class="op">)</span></span>
<span><span class="va">named_char_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/matchValues_varLabels.html">matchValues_varLabels</a></span><span class="op">(</span>GADSdat <span class="op">=</span> <span class="va">gads_string</span>, </span>
<span>                                        mc_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mcvar1"</span>, <span class="st">"mcother"</span><span class="op">)</span>, </span>
<span>                                        values <span class="op">=</span> <span class="va">value_string</span>, </span>
<span>                                        label_by_hand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"other"</span><span class="op">=</span><span class="st">"mcother"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">named_char_vec</span></span>
<span><span class="co">#&gt;    German     other </span></span>
<span><span class="co">#&gt;  "mcvar1" "mcother"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="integrate-character-and-numeric-variables">Integrate character and numeric variables<a class="anchor" aria-label="anchor" href="#integrate-character-and-numeric-variables"></a>
</h2>
<p>By using the expanded <code>GADS</code> and the named character
vector you can collapse the information of the strings with the already
existing numeric variables. The following coding of the binary numeric
variables is required: <code>1</code> = true and <code>0</code> = false
(for recoding see <code><a href="../reference/recodeGADS.html">recodeGADS()</a></code>). The names of the text
variables are specified under <code>text_vars</code>.</p>
<p>If there is an entry in the text variables that matches one of the
binary numeric variables, this binary numeric variable will be set to
<code>1</code>. The variable which indicates entries in the text
variable (<code>mc_var_4text</code>) is recoded accordingly. If for a
row all entries in the text variable can be recoded into the binary
numeric variables, the <code>invalid_miss_code</code> is inserted into
the text variables and <code>mc_var_4text</code> is changed to
<code>0</code>. If there are valid entries beside the binary numeric
variables <code>mc_var_4text</code> is set to <code>1</code>. If there
were no valid entries in <code>text_vars</code> to begin with,
<code>mc_var_4text</code> is left as is. All empty entries in the
<code>text_vars</code> are assigned missing codes
(<code>notext_miss_code</code>).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gads_string2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/collapseMultiMC_Text.html">collapseMultiMC_Text</a></span><span class="op">(</span>GADSdat <span class="op">=</span> <span class="va">gads_string</span>, mc_vars <span class="op">=</span> <span class="va">named_char_vec</span>, </span>
<span>                                     text_vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stringvar_1"</span>, <span class="st">"stringvar_2"</span>, <span class="st">"stringvar_3"</span><span class="op">)</span>, </span>
<span>                                     mc_var_4text <span class="op">=</span> <span class="st">"mcother"</span>, var_suffix <span class="op">=</span> <span class="st">"_r"</span>, </span>
<span>                                     label_suffix <span class="op">=</span> <span class="st">"(recoded)"</span>,</span>
<span>                                     invalid_miss_code <span class="op">=</span> <span class="op">-</span><span class="fl">98</span>, </span>
<span>                                     invalid_miss_label <span class="op">=</span> <span class="st">"Missing: By intention"</span>,</span>
<span>                                     notext_miss_code <span class="op">=</span> <span class="op">-</span><span class="fl">99</span>, </span>
<span>                                     notext_miss_label <span class="op">=</span> <span class="st">"Missing: By intention"</span><span class="op">)</span></span>
<span><span class="co">#&gt; No rows removed from meta data.</span></span>
<span><span class="co">#&gt; Adding meta data for the following variables: mcvar1_r, mcother_r, stringvar_1_r, stringvar_2_r, stringvar_3_r</span></span>
<span></span>
<span><span class="va">gads_string2</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="co">#&gt;    ID mcvar1 mcother      stringvar stringvar_1 stringvar_2 stringvar_3</span></span>
<span><span class="co">#&gt; 1   1      1     -94         German      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2   2    -94       0            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3   3      0       1            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4   4      1     -94           &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5   5    -94       0  Eng, Pol, Ita     English      Polish     Italian</span></span>
<span><span class="co">#&gt; 6   6      0       1 Pol, Ita, Germ      Polish     Italian      German</span></span>
<span><span class="co">#&gt; 7   7      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8   8    -94       0      germ, pol      German      Polish        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9   9      0       1         polish      Polish        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10 10      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 11 11    -94       0            -99        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12 12      0       1      Star Trek         -96         -96         -96</span></span>
<span><span class="co">#&gt;    mcvar1_r mcother_r stringvar_1_r stringvar_2_r stringvar_3_r</span></span>
<span><span class="co">#&gt; 1         1         0           -98           -98           -98</span></span>
<span><span class="co">#&gt; 2         1         0           -98           -98           -98</span></span>
<span><span class="co">#&gt; 3         1         0           -98           -98           -98</span></span>
<span><span class="co">#&gt; 4         1       -94           -99           -99           -99</span></span>
<span><span class="co">#&gt; 5       -94         1       English        Polish       Italian</span></span>
<span><span class="co">#&gt; 6         1         1        Polish       Italian           -99</span></span>
<span><span class="co">#&gt; 7         1         1       English       Italian           -99</span></span>
<span><span class="co">#&gt; 8         1         1        Polish           -99           -99</span></span>
<span><span class="co">#&gt; 9         0         1        Polish           -99           -99</span></span>
<span><span class="co">#&gt; 10        1         1       English       Italian           -99</span></span>
<span><span class="co">#&gt; 11      -94         0           -99           -99           -99</span></span>
<span><span class="co">#&gt; 12        0         1           -96           -96           -96</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="trim-down-variables">Trim down variables<a class="anchor" aria-label="anchor" href="#trim-down-variables"></a>
</h2>
<p>Sometimes the number of additional entries should be limited (as
theoretically there can be infinite additional entries). This means that
the number of character variables is ‘trimmed’.
<code><a href="../reference/remove2NAchar.html">remove2NAchar()</a></code> performs this trimming. Via
<code>max_num</code> the maximum number of text variables is defined and
all text variables above this number are removed from the data set. If a
row in the data set contains valid entries in on of the removed
variables, a specific missing code (<code>na_value</code>) is inserted
into this row on all remaining text variables.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gads_string3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove2NAchar.html">remove2NAchar</a></span><span class="op">(</span>GADSdat <span class="op">=</span> <span class="va">gads_string2</span>, </span>
<span>                              vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stringvar_1_r"</span>, <span class="st">"stringvar_2_r"</span>, <span class="st">"stringvar_3_r"</span><span class="op">)</span>, </span>
<span>                              max_num <span class="op">=</span> <span class="fl">2</span>, na_value <span class="op">=</span> <span class="op">-</span><span class="fl">97</span>, </span>
<span>                              na_label <span class="op">=</span> <span class="st">"missing: excessive answers"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Removing the following rows from meta data: stringvar_3_r</span></span>
<span><span class="co">#&gt; No rows added to meta data.</span></span>
<span></span>
<span><span class="va">gads_string3</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="co">#&gt;    ID mcvar1 mcother      stringvar stringvar_1 stringvar_2 stringvar_3</span></span>
<span><span class="co">#&gt; 1   1      1     -94         German      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2   2    -94       0            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3   3      0       1            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4   4      1     -94           &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5   5    -94       0  Eng, Pol, Ita     English      Polish     Italian</span></span>
<span><span class="co">#&gt; 6   6      0       1 Pol, Ita, Germ      Polish     Italian      German</span></span>
<span><span class="co">#&gt; 7   7      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8   8    -94       0      germ, pol      German      Polish        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9   9      0       1         polish      Polish        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10 10      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 11 11    -94       0            -99        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12 12      0       1      Star Trek         -96         -96         -96</span></span>
<span><span class="co">#&gt;    mcvar1_r mcother_r stringvar_1_r stringvar_2_r</span></span>
<span><span class="co">#&gt; 1         1         0           -98           -98</span></span>
<span><span class="co">#&gt; 2         1         0           -98           -98</span></span>
<span><span class="co">#&gt; 3         1         0           -98           -98</span></span>
<span><span class="co">#&gt; 4         1       -94           -99           -99</span></span>
<span><span class="co">#&gt; 5       -94         1           -97           -97</span></span>
<span><span class="co">#&gt; 6         1         1        Polish       Italian</span></span>
<span><span class="co">#&gt; 7         1         1       English       Italian</span></span>
<span><span class="co">#&gt; 8         1         1        Polish           -99</span></span>
<span><span class="co">#&gt; 9         0         1        Polish           -99</span></span>
<span><span class="co">#&gt; 10        1         1       English       Italian</span></span>
<span><span class="co">#&gt; 11      -94         0           -99           -99</span></span>
<span><span class="co">#&gt; 12        0         1           -96           -96</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="multiple-character-variables-to-labeled-integers">Multiple character variables to labeled integers<a class="anchor" aria-label="anchor" href="#multiple-character-variables-to-labeled-integers"></a>
</h2>
<p>After using <code><a href="../reference/collapseMultiMC_Text.html">collapseMultiMC_Text()</a></code> (and
<code><a href="../reference/remove2NAchar.html">remove2NAchar()</a></code>), only new, additional values are left in
the character variables. <code><a href="../reference/multiChar2fac.html">multiChar2fac()</a></code> transforms these
remaining text variables to numeric, labeled variables. All resulting
labeled variables share the exact same value labels, which are sorted
alphabetically.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gads_numeric</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/multiChar2fac.html">multiChar2fac</a></span><span class="op">(</span>GADSdat <span class="op">=</span> <span class="va">gads_string3</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stringvar_1_r"</span>, <span class="st">"stringvar_2_r"</span><span class="op">)</span>, </span>
<span>                              var_suffix <span class="op">=</span> <span class="st">"_r"</span>, label_suffix <span class="op">=</span> <span class="st">"(recoded)"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gads_numeric</span><span class="op">$</span><span class="va">dat</span></span>
<span><span class="co">#&gt;    ID mcvar1 mcother      stringvar stringvar_1 stringvar_2 stringvar_3</span></span>
<span><span class="co">#&gt; 1   1      1     -94         German      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2   2    -94       0            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3   3      0       1            Ger      German        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4   4      1     -94           &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 5   5    -94       0  Eng, Pol, Ita     English      Polish     Italian</span></span>
<span><span class="co">#&gt; 6   6      0       1 Pol, Ita, Germ      Polish     Italian      German</span></span>
<span><span class="co">#&gt; 7   7      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 8   8    -94       0      germ, pol      German      Polish        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9   9      0       1         polish      Polish        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 10 10      1     -94       eng, ita     English     Italian        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 11 11    -94       0            -99        &lt;NA&gt;        &lt;NA&gt;        &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 12 12      0       1      Star Trek         -96         -96         -96</span></span>
<span><span class="co">#&gt;    mcvar1_r mcother_r stringvar_1_r stringvar_2_r stringvar_1_r_r</span></span>
<span><span class="co">#&gt; 1         1         0           -98           -98             -98</span></span>
<span><span class="co">#&gt; 2         1         0           -98           -98             -98</span></span>
<span><span class="co">#&gt; 3         1         0           -98           -98             -98</span></span>
<span><span class="co">#&gt; 4         1       -94           -99           -99             -99</span></span>
<span><span class="co">#&gt; 5       -94         1           -97           -97             -97</span></span>
<span><span class="co">#&gt; 6         1         1        Polish       Italian               3</span></span>
<span><span class="co">#&gt; 7         1         1       English       Italian               1</span></span>
<span><span class="co">#&gt; 8         1         1        Polish           -99               3</span></span>
<span><span class="co">#&gt; 9         0         1        Polish           -99               3</span></span>
<span><span class="co">#&gt; 10        1         1       English       Italian               1</span></span>
<span><span class="co">#&gt; 11      -94         0           -99           -99             -99</span></span>
<span><span class="co">#&gt; 12        0         1           -96           -96             -96</span></span>
<span><span class="co">#&gt;    stringvar_2_r_r</span></span>
<span><span class="co">#&gt; 1              -98</span></span>
<span><span class="co">#&gt; 2              -98</span></span>
<span><span class="co">#&gt; 3              -98</span></span>
<span><span class="co">#&gt; 4              -99</span></span>
<span><span class="co">#&gt; 5              -97</span></span>
<span><span class="co">#&gt; 6                2</span></span>
<span><span class="co">#&gt; 7                2</span></span>
<span><span class="co">#&gt; 8              -99</span></span>
<span><span class="co">#&gt; 9              -99</span></span>
<span><span class="co">#&gt; 10               2</span></span>
<span><span class="co">#&gt; 11             -99</span></span>
<span><span class="co">#&gt; 12             -96</span></span>
<span></span>
<span><span class="va">gads_final</span> <span class="op">&lt;-</span> <span class="va">gads_numeric</span></span>
<span><span class="fu"><a href="../reference/extractMeta.html">extractMeta</a></span><span class="op">(</span><span class="va">gads_final</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"varName"</span>, <span class="st">"value"</span>, <span class="st">"valLabel"</span>, <span class="st">"missings"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt;            varName value                   valLabel missings</span></span>
<span><span class="co">#&gt; 1               ID    NA                       &lt;NA&gt;     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2           mcvar1   -94                    missing     miss</span></span>
<span><span class="co">#&gt; 3           mcvar1     0                         no    valid</span></span>
<span><span class="co">#&gt; 4           mcvar1     1                        yes    valid</span></span>
<span><span class="co">#&gt; 5          mcother   -94                    missing     miss</span></span>
<span><span class="co">#&gt; 6          mcother     0                         no    valid</span></span>
<span><span class="co">#&gt; 7          mcother     1                        yes    valid</span></span>
<span><span class="co">#&gt; 8        stringvar   -99          missing by design    valid</span></span>
<span><span class="co">#&gt; 9      stringvar_1   -99          missing by design    valid</span></span>
<span><span class="co">#&gt; 10     stringvar_1   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 11     stringvar_2   -99          missing by design    valid</span></span>
<span><span class="co">#&gt; 12     stringvar_2   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 13     stringvar_3   -99          missing by design    valid</span></span>
<span><span class="co">#&gt; 14     stringvar_3   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 15        mcvar1_r   -94                    missing     miss</span></span>
<span><span class="co">#&gt; 16        mcvar1_r     0                         no    valid</span></span>
<span><span class="co">#&gt; 17        mcvar1_r     1                        yes    valid</span></span>
<span><span class="co">#&gt; 18       mcother_r   -94                    missing     miss</span></span>
<span><span class="co">#&gt; 19       mcother_r     0                         no    valid</span></span>
<span><span class="co">#&gt; 20       mcother_r     1                        yes    valid</span></span>
<span><span class="co">#&gt; 21   stringvar_1_r   -99      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 22   stringvar_1_r   -98      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 23   stringvar_1_r   -97 missing: excessive answers     miss</span></span>
<span><span class="co">#&gt; 24   stringvar_1_r   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 25   stringvar_2_r   -99      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 26   stringvar_2_r   -98      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 27   stringvar_2_r   -97 missing: excessive answers     miss</span></span>
<span><span class="co">#&gt; 28   stringvar_2_r   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 29 stringvar_1_r_r   -99      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 30 stringvar_1_r_r   -98      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 31 stringvar_1_r_r   -97 missing: excessive answers     miss</span></span>
<span><span class="co">#&gt; 32 stringvar_1_r_r   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 33 stringvar_1_r_r     1                    English    valid</span></span>
<span><span class="co">#&gt; 34 stringvar_1_r_r     2                    Italian    valid</span></span>
<span><span class="co">#&gt; 35 stringvar_1_r_r     3                     Polish    valid</span></span>
<span><span class="co">#&gt; 36 stringvar_2_r_r   -99      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 37 stringvar_2_r_r   -98      Missing: By intention     miss</span></span>
<span><span class="co">#&gt; 38 stringvar_2_r_r   -97 missing: excessive answers     miss</span></span>
<span><span class="co">#&gt; 39 stringvar_2_r_r   -96      Missing: Not codeable     miss</span></span>
<span><span class="co">#&gt; 40 stringvar_2_r_r     1                    English    valid</span></span>
<span><span class="co">#&gt; 41 stringvar_2_r_r     2                    Italian    valid</span></span>
<span><span class="co">#&gt; 42 stringvar_2_r_r     3                     Polish    valid</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="clean-data-set">Clean data set<a class="anchor" aria-label="anchor" href="#clean-data-set"></a>
</h2>
<p>In a last step you can remove unnecessary variables from the
<code>GADS</code> object by using <code><a href="../reference/extractVars.html">removeVars()</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gads_final2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/extractVars.html">removeVars</a></span><span class="op">(</span><span class="va">gads_final</span>, vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"stringvar_1"</span>, <span class="st">"stringvar_2"</span>, <span class="st">"stringvar_3"</span>,</span>
<span>                                               <span class="st">"stringvar_1_r"</span>, <span class="st">"stringvar_2_r"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Removing the following rows from meta data: stringvar_1, stringvar_2, stringvar_3, stringvar_1_r, stringvar_2_r</span></span>
<span><span class="co">#&gt; No rows added to meta data.</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Benjamin Becker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
